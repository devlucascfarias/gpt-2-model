<!DOCTYPE html>
<html lang="en">
<head>
    <title>GPT-2 Model</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/style.css">
    <link rel="icon" href="/static/logo.png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5+5hb7x+cm7D4z2+t3x4v8r+6PC4kP/4fLs/PLdi" crossorigin="anonymous"></script>

</head>
<body>

    <div id="wrapper">

        <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand">
                <a href="">
                    GPT-2 Model
                </a>
            </li>
            <li>
                <a href="">Refresh</a>
            </li>

        </ul>
    </div>

    <div id="page-content-wrapper">

    <main role="main">
            <div class="card text-center">          
                <div class="text-right" style="margin: 10px;">
                    <a href="https://huggingface.co/openai-community/gpt2" target="_blank" class="badge badge-secondary">{{ name_model }}</a>
                    <a href="https://github.com/devlucascfarias" target="_blank" class="badge badge-secondary">GitHub</a>
                    <img class="card-img-top mx-auto d-block" src="/static/logo.png">
                </div>
                <div class="card-body">

                    <div id="gpt2" class="text-left">
                        {% if output_text %}
                        <p><b>{{ input_text }}</b>{{ output_text }}</p>
                        {% endif %}
                    </div>

                    <ul class="list-group" style="margin-top: 10px;">
                        <span class="badge badge-primary badge-pill"></span>

                    </ul>
                    <form id="generate-form"  method="POST">
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label for="temperature">Temperature: <span id="temperature-value">0.7</span></label>
                                    <input type="range" class="form-control-range" id="temperature" name="temperature" min="0.1" max="1" step="0.01" value="0.7" oninput="document.getElementById('temperature-value').textContent = this.value">
                                </div>
                            </div>
                
                            <div class="col">
                                <div class="form-group">
                                    <label for="max_length">Max length: <span id="max_length-value">200</span></label>
                                    <input type="range" class="form-control-range" id="max_length" name="max_length" min="50" max="1000" step="50" value="300" oninput="document.getElementById('max_length-value').textContent = this.value">
                                </div>
                            </div>
                        </div>
                
                        <div class="form-group">
                            <textarea class="form-control"  id="input_text" name="input_text" rows="4" cols="50"></textarea>
                        </div>
                        <button type="submit" class="btn btn-outline-primary" style="margin-left: 30px; margin-right: 30px; margin-bottom: 8px;">Submit</button>
                    </form>

                    <script>
                        document.getElementById('input_text').value = localStorage.getItem('input_text');
                
                        document.getElementById('generate-form').addEventListener('submit', function() {
                            localStorage.setItem('input_text', document.getElementById('input_text').value);
                        });
                        
                    </script>

                </div> 

                <div class="card-footer">
                    <small class="text-muted">Logs</small>
                    <small>
                        <p class="text-left">
                            {% for log in logs %}
                                {{ log }}<br>
                            {% endfor %}
                        </p>
                    </small>
                </div>

            </div>
            
    </div>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>
